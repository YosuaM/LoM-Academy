---
const headerActive =
  "group text-gray-900 dark:text-white relative inline-flex items-center gap-x-3 leading-10 px-3.5 xl:px-4.5 after:absolute after:top-[15px] after:left-0 after:bg-current-marker-dark after:transition-transform after:w-1.5 after:h-[9px] dark:after:bg-current-marker after:origin-left after:scale-x-100";
const headerNotActive =
  'class="group text-gray-900 dark:text-white relative inline-flex items-center gap-x-3 leading-10 px-3.5 xl:px-4.5 after:absolute after:top-[15px] after:left-0 after:bg-current-marker-dark after:transition-transform after:w-1.5 after:h-[9px] dark:after:bg-current-marker after:origin-right hover:after:origin-left after:scale-x-0 hover:after:scale-x-100"';

const { page } = Astro.props;
---

<header id="site-header" class="text-white">
  <div class="max-w-[1360px] mx-auto px-5">
    <nav
      class="flex min-h-[64px] items-center gap-x-6 lg:gap-x-11 py-1 lg:min-h-[90px] lg:py-4"
    >
      <!-- Logo -->
      <div class="shrink-0">
        <a href="/en/">
          <img
            class="h-max-50 w-max-50"
            src="/assets/img/logo.webp"
            alt="LoM Academy Logo"
          />
        </a>
      </div>
      <!-- Logo / End -->

      <!-- Navigation (Desktop) -->
      <ul class="hidden lg:gap-x-0 xl:gap-x-6 text-sm font-bold lg:flex">
        <!-- Home -->
        <li class="">
          <a class={page === 1 ? headerActive : headerNotActive} href="/en/">
            Home
          </a>
        </li>
        <!-- Home -->
        <!-- News -->
        <li class="">
          <a
            class={page === 2 ? headerActive : headerNotActive}
            href="/en/news"
          >
            News
          </a>
        </li>
        <!-- News -->
        <!-- Guides -->
        <li
          class="relative [&>.sub-menu]:hover:visible [&>.sub-menu]:hover:animate-popper-pop-in [&>.sub-menu]:hover:opacity-100"
        >
          <a
            class={page === 3 ? headerActive : headerNotActive}
            href="/en/guides"
          >
            Guides
            <svg
              role="img"
              class="h-1.5 w-1.5 fill-gray-500 group-hover:fill-accent"
            >
              <use xlink:href="/assets/img/str1/sprite.svg#plus"></use>
            </svg>
          </a>
          <ul
            class="sub-menu invisible absolute z-20 flex w-40 flex-col bg-white dark:bg-gray-700 py-2.5 text-sm font-bold opacity-0 shadow-2xl transition-all"
          >
            <!-- Class Guides -->
            <li
              class="px-5.5 relative [&>.sub-menu]:hover:visible [&>.sub-menu]:hover:animate-popper-pop-in [&>.sub-menu]:hover:opacity-100"
            >
              <a
                class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                href="/en/guides/classes"
              >
                Classes

                <svg role="img" class="h-1.5 w-1.5 fill-accent">
                  <use xlink:href="/assets/img/str1/sprite.svg#plus"></use>
                </svg>
              </a>

              <ul
                class="sub-menu invisible absolute z-20 flex w-40 flex-col bg-white dark:bg-gray-700 py-2.5 text-sm font-bold opacity-0 shadow-2xl transition-all left-full -top-2"
              >
                <li class="px-5.5">
                  <a
                    class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                    href="/en/guides/classes/archer-plume-monarch"
                  >
                    Archer Plume Monarch
                  </a>
                </li>
                <!--
                <li class="px-5.5">
                  <a
                    class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                    href="/en/guides/classes/archer-sacred-hunter"
                  >
                    Archer Sacred Hunter
                  </a>
                </li>
                <li class="px-5.5">
                  <a
                    class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                    href="/en/guides/classes/mage-darklord"
                  >
                    Mage Darklord
                  </a>
                </li>
                <li class="px-5.5">
                  <a
                    class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                    href="/en/guides/classes/mage-prophet"
                  >
                    Mage Prophet
                  </a>
                </li>
                <li class="px-5.5">
                  <a
                    class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                    href="/en/guides/classes/warrior-martial-sage"
                  >
                    Warrior Martial Sage
                  </a>
                </li>
                <li class="px-5.5">
                  <a
                    class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                    href="/en/guides/classes/warrior-warbringer"
                  >
                    Warrior Warbringer
                  </a>
                </li>
                -->
              </ul>
            </li>
            <!-- Class Guides -->
            <!-- Progress Guides -->
            <li
              class="px-5.5 relative [&>.sub-menu]:hover:visible [&>.sub-menu]:hover:animate-popper-pop-in [&>.sub-menu]:hover:opacity-100"
            >
              <a
                class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                href="/en/guides/progress"
              >
                Progress

                <svg role="img" class="h-1.5 w-1.5 fill-accent">
                  <use xlink:href="/assets/img/str1/sprite.svg#plus"></use>
                </svg>
              </a>

              <ul
                class="sub-menu invisible absolute z-20 flex w-40 flex-col bg-white dark:bg-gray-700 py-2.5 text-sm font-bold opacity-0 shadow-2xl transition-all left-full -top-2"
              >
                <!-- Mining Guide -->
                <li class="px-5.5">
                  <a
                    class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                    href="/en/guides/progress/mining"
                  >
                    Mining
                  </a>
                </li>
                <!-- Mining Guide -->
                <!-- Mounts Guide -->
                <li class="px-5.5">
                  <a
                    class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                    href="/en/guides/progress/mounts"
                  >
                    Mounts
                  </a>
                </li>
                <!-- Mounts Guide -->
              </ul>
            </li>
            <!-- Progress Guides -->
            <!-- Game Modes Guides -->
            <li
            class="px-5.5 relative [&>.sub-menu]:hover:visible [&>.sub-menu]:hover:animate-popper-pop-in [&>.sub-menu]:hover:opacity-100"
          >
            <a
              class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
              href="/en/guides/game-modes"
            >
              Game Modes

              <svg role="img" class="h-1.5 w-1.5 fill-accent">
                <use xlink:href="/assets/img/str1/sprite.svg#plus"></use>
              </svg>
            </a>

            <ul
              class="sub-menu invisible absolute z-20 flex w-40 flex-col bg-white dark:bg-gray-700 py-2.5 text-sm font-bold opacity-0 shadow-2xl transition-all left-full -top-2"
            >
              <!-- Cross-Server Showdown Guide -->
              <li class="px-5.5">
                <a
                  class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                  href="/en/guides/game-modes/cross-server-showdown"
                >
                  Cross-Server Showdown
                </a>
              </li>
              <!-- Cross-Server Showdown Guide -->
            </ul>
          </li>
          <!-- Game Modes Guides -->
          </ul>
        </li>
        <!-- Blog -->
        <!-- Events -->
        <li
          class="relative [&>.sub-menu]:hover:visible [&>.sub-menu]:hover:animate-popper-pop-in [&>.sub-menu]:hover:opacity-100"
        >
          <a
            class={page === 4 ? headerActive : headerNotActive}
            href="/en/events"
          >
            Events
            <svg
              role="img"
              class="h-1.5 w-1.5 fill-gray-500 group-hover:fill-accent"
            >
              <use xlink:href="/assets/img/str1/sprite.svg#plus"></use>
            </svg>
          </a>
          <ul
            class="sub-menu invisible absolute z-20 flex w-40 flex-col bg-white dark:bg-gray-700 py-2.5 text-sm font-bold opacity-0 shadow-2xl transition-all"
          >
            <li class="px-5.5">
              <a
                class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                href="/en/events/rush-events"
              >
                Rush Events
              </a>
            </li>
            <li class="px-5.5">
              <a
                class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent disabled"
                href="/en/events/game-events"
              >
                Game Events
              </a>
            </li>
            <li class="px-5.5">
              <a
                class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent disabled"
                href="/en/events/community-events"
              >
                Community Events
              </a>
            </li>
          </ul>
        </li>
        <!-- Events -->
        <!-- Ranking -->
        <li class="">
          <a
            class={page === 5 ? headerActive : headerNotActive}
            href="/en/ranking"
          >
            Ranking
          </a>
        </li>
        <!-- Ranking -->
        <!-- Tools -->
        <li
          class="relative [&>.sub-menu]:hover:visible [&>.sub-menu]:hover:animate-popper-pop-in [&>.sub-menu]:hover:opacity-100 disabled"
        >
          <a
            class={(page === 6 ? headerActive : headerNotActive) + " disabled"}
            href="/en/tools"
          >
            Tools
            <svg
              role="img"
              class="h-1.5 w-1.5 fill-gray-500 group-hover:fill-accent"
            >
              <use xlink:href="/assets/img/str1/sprite.svg#plus"></use>
            </svg>
          </a>
          <ul
            class="sub-menu invisible absolute z-20 flex w-40 flex-col bg-white dark:bg-gray-700 py-2.5 text-sm font-bold opacity-0 shadow-2xl transition-all"
          >
            <li class="px-5.5">
              <a
                class="flex items-center justify-between py-1.5 transition-colors text-gray-900 hover:text-accent dark:text-white dark:hover:text-accent"
                href="/en/tools/lamp-calculator"
              >
                Lamp Calculator
              </a>
            </li>
          </ul>
        </li>
        <!-- Tools -->
        <!-- About -->
        <li class="">
          <a
            class={page === 7 ? headerActive : headerNotActive}
            href="/en/about"
          >
            About
          </a>
        </li>
        <!-- About -->
      </ul>
      <!-- Navigation (Desktop) / End -->

      <!-- Header Controls -->
      <div class="flex ml-auto -mr-3">
        <!-- Day/Night mode -->
        <div class="flex items-center py-4 px-1 sm:px-2">
          <label
            for="theme-toggle"
            class="relative inline-flex cursor-pointer items-center"
          >
            <input
              type="checkbox"
              value=""
              id="theme-toggle"
              class="peer sr-only"
            />
            <span
              class="relative z-10 block h-6 w-11 rounded-full border-2 border-gray-900 after:absolute after:top-0.5 after:left-0.5 after:h-4 after:w-4 after:rounded-full after:bg-gray-900 after:transition-transform peer-checked:after:translate-x-[20px] dark:border-white dark:after:bg-white"
            ></span>
            <svg
              role="img"
              class="pointer-events-none absolute left-[5px] top-1 h-4 w-4 stroke-accent"
            >
              <use xlink:href="/assets/img/sprites/sprite_yt1.svg#sun"></use>
            </svg>
            <svg
              role="img"
              class="pointer-events-none absolute right-[5px] top-1 h-4 w-4 stroke-accent"
            >
              <use xlink:href="/assets/img/sprites/sprite_yt1.svg#moon"></use>
            </svg>
          </label>
        </div>
        <!-- Day/Night mode -->

        <!-- Language -->
        <div
          class="language relative [&>.sub-menu]:lg:hover:visible [&>.sub-menu]:hover:animate-popper-pop-in [&>.sub-menu]:lg:hover:opacity-100"
        >
          <div class="block py-4 px-2 xl:px-3">
            <span class="fi fi-gb h-6 w-6"></span>
          </div>

          <ul
            class="sub-menu invisible absolute right-full z-20 -mr-9 flex w-40 origin-top-right flex-col bg-white dark:bg-gray-700 py-3 text-sm font-bold opacity-0 shadow-2xl transition-all"
          >
            <li class="px-5.5">
              <a
                class="flex flex-row-reverse items-center justify-between py-1.5 text-gray-900 dark:text-white transition-colors hover:text-accent dark:hover:text-accent"
                href="/en/"
              >
                <span class="fi fi-gb"></span>
                English
              </a>
            </li>
            <li class="px-5.5">
              <a
                class="flex flex-row-reverse items-center justify-between py-1.5 text-gray-900 dark:text-white transition-colors hover:text-accent dark:hover:text-accent disabled"
                href="/es/"
              >
                <span class="fi fi-es"></span>
                Spanish
              </a>
            </li>
          </ul>
        </div>
        <!-- Language -->

        <!-- Mobile menu button -->
        <button
          class="js-menu-toggle -mr-2 inline-flex py-4 px-2 sm:px-3 lg:hidden xl:px-4"
        >
          <svg
            role="img"
            class="js-menu-toggle-icon-open h-6 w-6 fill-gray-900 dark:fill-white"
          >
            <use xlink:href="/assets/img/sprites/sprite_yt1.svg#menu"></use>
          </svg>
          <svg
            role="img"
            class="js-menu-toggle-icon-close hidden h-6 w-6 fill-gray-900 dark:fill-white"
          >
            <use xlink:href="/assets/img/sprites/sprite_yt1.svg#menu-close"
            ></use>
          </svg>
        </button>
        <!-- Mobile menu button -->
      </div>
      <!-- Header Controls / End -->
    </nav>
  </div>
</header>
